<main class="home-page">
  <!-- Hero Carousel -->
  @if (isBrowser) {
  <section class="carousel-section" aria-label="Featured Products">
    <swiper-container 
      loop="true" 
      autoplay="true" 
      pagination="true" 
      navigation="true"
      [attr.autoplay-delay]="3000">
      @for (image of carouselImages; track image) {
        <swiper-slide>
          <div class="carousel-slide" [style.background-image]="'url(' + image + ')'">
            <div class="carousel-content">
              <h1>{{ 'WELCOME' | translate }}</h1>
              <p>{{ 'COMPANY_DESCRIPTION' | translate }}</p>
            </div>
          </div>
        </swiper-slide>
      }
    </swiper-container>
  </section>
}

  <!-- Product Filters -->
  <section class="filters-section" aria-label="Product Filters">
    <div class="container">
      <div class="filters">
        <!-- Search -->
        <div class="filter-group">
          <label for="product-search" class="sr-only">{{ 'SEARCH_PRODUCTS' | translate }}</label>
          <input 
            id="product-search"
            type="search" 
            [placeholder]="'SEARCH_PRODUCTS' | translate"
            [value]="searchTerm()"
            (input)="onSearchChange($event)"
            class="search-input"
            aria-label="Search products">
        </div>

        <!-- Category Filter -->
        <div class="filter-group">
          <label for="category-filter" class="sr-only">{{ 'FILTER_BY_CATEGORY' | translate }}</label>
          <select 
            id="category-filter"
            [value]="selectedCategory()"
            (change)="onCategoryChange($event)"
            class="category-select"
            aria-label="Filter by category">
            <option value="">{{ 'ALL_CATEGORIES' | translate }}</option>
            @for (category of categories(); track category._id) {
              <option [value]="category._id">{{ getLocalizedName(category) }}</option>
            }
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- Products Catalog -->
  <section class="products-section" aria-label="Product Catalog">
    <div class="container">
      @if (loading()) {
        <div class="loading" role="status" aria-live="polite">{{ 'LOADING' | translate }}</div>
      } @else if (filteredProducts().length === 0) {
        <div class="no-products" role="status">{{ 'NO_PRODUCTS_FOUND' | translate }}</div>
      } @else {
        <div class="products-grid" role="list">
          @for (product of filteredProducts(); track product._id) {
            <article class="product-card" role="listitem">
              <a [routerLink]="['/', currentLang, 'product', getProductSlug(product)]" 
                 class="product-link"
                 [attr.aria-label]="'View ' + getLocalizedName(product)">
                <div class="product-image">
                  <img [src]="product.image" 
                       [alt]="getLocalizedName(product)"
                       loading="lazy"
                       width="280"
                       height="250">
                </div>
                <div class="product-info">
                  <h2 class="product-name">{{ getLocalizedName(product) }}</h2>
                  <p class="product-category">{{ getLocalizedName(product.category) }}</p>
                  <p class="product-description">{{ getLocalizedDescription(product) }}</p>
                  <div class="product-footer">
                    <span class="product-price" aria-label="Price">${{ product.price }}</span>
                  </div>
                </div>
              </a>
            </article>
          }
        </div>
      }
    </div>
  </section>
</main>

